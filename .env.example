# Environment Configuration for PER Maritime Exam System
# Copy this file to .env and update the values for your deployment

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME="PER Maritime Exam API"
DEBUG=false
VERSION=2.0.0
LOG_LEVEL=INFO

# API Server Configuration
HOST=0.0.0.0
PORT=5001
API_PORT=5001
API_WORKERS=4

# Web Frontend Configuration
WEB_PORT=8095

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Database Settings
DATABASE_NAME=per_exams
DATABASE_USER=per_user
DATABASE_PASSWORD=change_me_secure_password_123
DATABASE_HOST=localhost
DATABASE_PORT=5432

# Connection Pool Settings
DB_MIN_CONNECTIONS=5
DB_MAX_CONNECTIONS=20

# Full database URL (alternative to individual settings)
# DATABASE_URL=postgresql://per_user:password@localhost:5432/per_exams

# Test Database (for CI/CD)
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/per_exams_test

# =============================================================================
# REDIS CACHE CONFIGURATION
# =============================================================================
# Redis Cache Settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Full Redis URL (alternative to individual settings)
# REDIS_URL=redis://localhost:6379/0

# Cache Configuration
CACHE_PREFIX=per_exam:
DEFAULT_CACHE_TTL=3600

# Test Redis (for CI/CD)
TEST_REDIS_URL=redis://localhost:6379/15

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production-minimum-256-bits-long
JWT_ALGORITHM=HS256
JWT_ACCESS_EXPIRE_MINUTES=60
JWT_REFRESH_EXPIRE_DAYS=30

# Rate Limiting
RATE_LIMIT_RPM=100
RATE_LIMIT_BURST=20

# CORS Configuration
CORS_ORIGINS=http://localhost:8095,http://127.0.0.1:8095

# =============================================================================
# OPENAI API CONFIGURATION
# =============================================================================
# OpenAI Settings for AI Explanations
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.3

# =============================================================================
# PERFORMANCE & OPTIMIZATION
# =============================================================================
# HTTP Compression
ENABLE_GZIP=true
GZIP_MIN_SIZE=1000

# Metrics and Monitoring
ENABLE_METRICS=true
METRICS_PATH=/metrics

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================
# Docker Build Arguments
BUILD_DATE=
VCS_REF=
DOCKERFILE_VERSION=2.0.0

# =============================================================================
# MONITORING (Optional)
# =============================================================================
# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3000
GRAFANA_PASSWORD=admin_change_me

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Development-specific settings
DEV_RELOAD=true
DEV_LOG_LEVEL=DEBUG

# Testing
PYTEST_WORKERS=auto
COVERAGE_THRESHOLD=80

# =============================================================================
# PRODUCTION DEPLOYMENT
# =============================================================================
# Production-specific settings
PROD_WORKERS=8
PROD_MAX_CONNECTIONS=50

# SSL/TLS (when using reverse proxy)
USE_SSL=false
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem

# External Services
EXTERNAL_API_BASE_URL=https://api.external-service.com
EXTERNAL_API_KEY=your-external-api-key

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
# Database Backup Settings
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_LOCATION=/app/backups

# S3 Backup (optional)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=per-exam-backups
AWS_REGION=us-east-1

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Structured Logging
LOG_FORMAT=json
LOG_FILE=/app/logs/app.log
LOG_ROTATION=midnight
LOG_RETENTION=30

# External Logging (optional)
SENTRY_DSN=
ELASTIC_SEARCH_URL=

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Feature toggles for gradual rollout
FEATURE_AI_EXPLANATIONS=true
FEATURE_BULK_EXPORT=true
FEATURE_ADMIN_DASHBOARD=true
FEATURE_ANALYTICS=false

# =============================================================================
# SECURITY HEADERS
# =============================================================================
# Security Configuration
SECURITY_HSTS_MAX_AGE=31536000
SECURITY_CONTENT_TYPE_NOSNIFF=true
SECURITY_FRAME_OPTIONS=DENY
SECURITY_XSS_PROTECTION=true

# =============================================================================
# LOCALE AND INTERNATIONALIZATION
# =============================================================================
# Language Settings
DEFAULT_LANGUAGE=es
SUPPORTED_LANGUAGES=es,en
TIMEZONE=Europe/Madrid

# =============================================================================
# EXAMPLE VALUES FOR DIFFERENT ENVIRONMENTS
# =============================================================================

# Development Example:
# DATABASE_URL=postgresql://per_user:dev_password@localhost:5432/per_exams_dev
# REDIS_URL=redis://localhost:6379/1
# DEBUG=true
# LOG_LEVEL=DEBUG

# Production Example:
# DATABASE_URL=postgresql://per_user:super_secure_prod_pass@db.example.com:5432/per_exams
# REDIS_URL=redis://cache.example.com:6379/0
# DEBUG=false
# LOG_LEVEL=INFO
# WORKERS=8

# Testing Example:
# DATABASE_URL=postgresql://test_user:test_pass@localhost:5432/per_exams_test
# REDIS_URL=redis://localhost:6379/15
# OPENAI_API_KEY=sk-test-key-for-mocking